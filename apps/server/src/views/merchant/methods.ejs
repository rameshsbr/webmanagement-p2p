<% layout('merchant/layout') -%>

<div class="page">
  <div class="card">
    <div class="card__header">
      <h1>Methods</h1>
      <p class="muted">Payment methods available to your account.</p>
    </div>

    <div class="table-wrap">
        <table class="table">
          <thead>
            <tr>
              <th>Method</th>
              <th>Code</th>
              <th>Deposits</th>
              <th>Withdrawals</th>
            </tr>
          </thead>
          <tbody>
            <% if (!methods.length) { %>
              <tr><td colspan="4" style="text-align:center; color:var(--ink-dim);">No methods assigned to your account yet.</td></tr>
            <% } else { %>
              <% methods.forEach((method) => { const stat = stats[method.id] || { deposits: 0, withdrawals: 0 }; %>
                <tr>
                  <td><%= method.name %></td>
                  <td class="mono"><%= method.code %></td>
                  <td><%= stat.deposits %></td>
                  <td><%= stat.withdrawals %></td>
                </tr>
              <% }) %>
            <% } %>
          </tbody>
      </table>
    </div>
  </div>
</div>
